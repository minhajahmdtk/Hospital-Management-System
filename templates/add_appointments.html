{% extends 'base_patient.html' %}
{% load static %}

{% block title %}Add Appointment{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card p-4">
    <div class="row">
      <!-- Left: Doctor Image and Basic Info -->
      <div class="col-md-4 text-center">
        {% if doctor.image %}
          <img src="{{ doctor.image.url }}" alt="Doctor Image" class="img-thumbnail mb-3" width="150">
        {% else %}
          <img src="{% static 'images/default_avatar.png' %}" alt="Default Doctor" class="img-thumbnail mb-3" width="150">
        {% endif %}
        <h5>{{ doctor.first_name }} {{ doctor.last_name }}</h5>
        <p class="text-muted mb-1">{{ doctor.specialty }}</p>
        <p class="text-muted">{{ doctor.Gender }}</p>
      </div>

      <!-- Right: Doctor Details + Appointment Form -->
      <div class="col-md-8">
        <h5 class="mb-3">Doctor Details</h5>
        <p><strong>Email:</strong> {{ doctor.email }}</p>
        <p><strong>Phone:</strong> {{ doctor.phone }}</p>
        <p><strong>Address:</strong> {{ doctor.address }}</p>

        <hr>

        <h5 class="mb-3">Add Appointment</h5>
        <form method="POST" action="{% url 'add_appointments' doctor.id %}">
          {% csrf_token %}

          <!-- Disease Name -->
          <div class="mb-3">
            <label for="disease" class="form-label">Disease Name</label>
            <input type="text" name="disease" id="disease" class="form-control" placeholder="Enter the disease or condition" required>
          </div>

          <!-- Symptoms / Description -->
          <div class="mb-3">
            <label for="symptoms" class="form-label">Describe Your Symptoms</label>
            <textarea name="symptoms" id="symptoms" class="form-control" rows="4" placeholder="Describe your symptoms clearly, including duration, severity, and any previous treatments..." required></textarea>
          </div>

          <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-primary">Add Appointment</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
